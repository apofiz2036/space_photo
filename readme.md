# Загрузка из интернета фотографий космоса и выгрузка их в телеграм канал с помощью бота

Данная программа позволяет загружать фотографии из двух источников, с сайта api.nasa.gov где находятся фотографии с запусков ракет SpaceX и api.nasa.gov откуда загружаются фотографии дня и EPIC фотографии земли

## Содержание

- [Установка](#установка)
- [Использование](#использование)

## Установка

Для работы программы требуется Python 3.6 или выше, библиотека requests версии 2.31.0, библиотека python-telegram-bot версии 13.0.
Все необходимые для работы библиотеки прописаны в файле requirements.txt, установить их можно с помощью комманды:

```shell
 pip install -r requirements.txt.
```

Для работы необходимы два токена, с сайта api.nasa.gov и токен телеграм бота.
Токены нужно прописать в файле .env следующим образом:

```.env
NASA_TOKEN=ваш токен
TELEGRAM_BOT_TOKEN=ваш токен
```

## Использование

### fetch_apod_nasa_images.py 

Скачивает с сайта api.nasa.gov фотографии дня и сохраняет их в папке images. Количество фотографий задаётся дополнительным аргументом --count или -c, по умолчанию загружается 30 фотографий.

Пример запроса:
```shell
python fetch_apod_nasa_images.py --count 10 (будет загружено 10 случайных фотографий)
```

### fetch_epic_nasa_image.py

Скачивает с сайта  api.nasa.gov фотографии EPIC, с изображением земли, и сохраняет их в папке images. Количество фотографий задаётся дополнительным аргументом --count или -c, по умолчанию загружается 10 фотографий.

Пример запроса:
```shell
python fetch_epic_nasa_image.py --count 5 (будет загружено 5 случайных фотографий)
```

### fetch_spacex_images.py

Скачивает фотографии с сайта spacexdata.com, фотографии сохраняются в папке images. По умолчанию программа сохраняет фотографии с последнего запуска, дополнительным аргументом '--id' или '-i' можно задать id конкретного запуска.
Если аргумент не указан загружаются фотографии с последнего запуска, если фотографий с последнего запуска небыло то фотографии загружены не будут.

Пример запроса:
```shell
python fetch_spacex_images.py --id 5eb87d47ffd86e000604b38a
```

### telegram_bot.py

Отправляет в телеграм в группу "Фотографии космоса" фотографии из папки images в случайном порядке. У скрипта имеются дополнительные аргументы, --telegram_timer или -t в котором задаётся переодичность отправки фотографий в группу, время указывается в секундах.
И --id	для указания id чата.

Пример запроса:
```shell
python telegram_bot.py -t 3600 id @id_вашего_чата
```

### general_functions.py

Хранит функции необходимые для работы fetch_apod_nasa_images.py, fetch_epic_nasa_image и fetch_spacex_images.py